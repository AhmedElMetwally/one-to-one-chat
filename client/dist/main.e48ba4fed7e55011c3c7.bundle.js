webpackJsonp([1],{"+a7Q":function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,"",""]),e.exports=e.exports.toString()},0:function(e,t,n){e.exports=n("cDNt")},1:function(e,t){},"6tl5":function(e,t){e.exports="<div class=\"row\" style=\"margin-bottom:20px\">\n  <nav class=\" col-md-12\">\n    <ul class=\" nav nav-tabs \">\n        \x3c!--\n          isLogin()\n            return true or false\n            check if user is login with token\n        --\x3e\n      <li><a  routerLinkActive='active' routerLink='signin' *ngIf=\"!isLogin()\" > Signin</a></li>\n      <li><a routerLinkActive='active' routerLink='signup' *ngIf=\"!isLogin()\" > Signup</a></li>\n      <li><a routerLinkActive='active' routerLink='profile' *ngIf=\"isLogin()\" > Profile</a></li>\n      <li><a routerLinkActive='active' routerLink='logout' *ngIf=\"isLogin()\" > Logout</a></li>\n    </ul>\n  </nav>\n</div>\n\n"},GvUu:function(e,t){e.exports='<nav class="navbar  navbar-inverse navbar-fixed-top" role="navigation">\n  \x3c!-- Brand and toggle get grouped for better mobile display --\x3e\n  <div class="container">  \n    <div class="navbar-header">\n      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">\n        <span class="sr-only">Toggle navigation</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n      <a class="navbar-brand" >Real Time Chat</a>\n    </div>\n\n    <div class="collapse navbar-collapse navbar-ex1-collapse">\n      <ul class="nav navbar-nav">\n        <li><a  routerLinkActive=\'active\' routerLink="user"> User </a></li>\n        \x3c!-- hide chat is user is not login --\x3e\n        <li><a  routerLinkActive=\'active\' routerLink="chat" *ngIf="isLogin()" > Chat </a></li>\n        <li><a  routerLinkActive=\'active\' routerLink="blog"> Blog </a></li>\n        <li><a  routerLinkActive=\'active\' routerLink="about"> About </a></li>\n      </ul>\n    </div>\n  </div>\n</nav>\n\n\n\n\n '},L0bZ:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,"a.user{width:90%;padding:10px 10px;margin-top:8px ;margin-bottom:8px }#users{overflow-y:auto}#messages,#users{height:400px}#parent-messages{height:350px;overflow-y:auto}#sent-message{margin-top:10px}.msg{padding:10px;margin-top:13px;background:#424242;border-radius:6px;color:#fff;word-break:break-all;font-size:15px}.other .crop{margin-left:3%;-webkit-clip-path:polygon(100% 0,0 0,0 100%);clip-path:polygon(100% 0,0 0,0 100%)}.me .crop,.other .crop{background:#424242;width:3%;height:13px}.me .crop{margin-left:95%;-webkit-clip-path:polygon(100% 0,0 0,100% 100%);clip-path:polygon(100% 0,0 0,100% 100%)}.img-msg{border-radius:50%;width:50px;height:50px;margin:auto}.date{color:hsla(0,0%,100%,.4);font-size:10px;padding-top:5px}@media (max-width:600px){.other .crop{margin-left:5%;-webkit-clip-path:polygon(100% 0,0 0,0 100%);clip-path:polygon(100% 0,0 0,0 100%)}.me .crop,.other .crop{background:#424242;width:5%;height:11px}.me .crop{margin-left:90%;-webkit-clip-path:polygon(100% 0,0 0,100% 100%);clip-path:polygon(100% 0,0 0,100% 100%)}#parent-messages{margin-top:35px}#messages{height:430px}.img-msg{width:30px;height:30px;margin:0;margin-bottom:7px}.me .img-msg{float:right}.img-msg{float:left}.content{margin-left:40px}.me .content{margin-right:40px}}",""]),e.exports=e.exports.toString()},Otgb:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,"",""]),e.exports=e.exports.toString()},Vpwn:function(e,t){e.exports="<p>\n  blog works!\n</p>\n"},X8cT:function(e,t){e.exports='\n\x3c!-- show error in signup --\x3e\n<div *ngIf="ErrorAlert"  class="alert alert-danger">\n  <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>\n  <strong>Signin Fail</strong> Pleace Ckeck Your Date ... \n</div>\n\n\n<form  role="form" [formGroup]=\'myform\' (submit)=\'onSubmit()\'>\n  \x3c!-- \n    set class error if formControlName us invalid\n    set class success if formControlName us valid\n\n    Validator [email , required] in html only\n  --\x3e\n  <div class="form-group has-feedback" \n    [ngClass]="{\n      \'has-error\' : myform.controls.email.invalid && myform.controls.email.touched ,\n      \'has-success\' : myform.controls.email.valid\n    }" \n  >\n    <label for="" class="control-label">Email</label>\n    <input \n      type="email" \n      class="form-control" \n      placeholder="Email"\n      formControlName=\'email\'\n      required   \n      email\n    >\n    <small *ngIf="myform.controls.email.invalid && myform.controls.email.touched"  class="text-danger"> Must be 5-30 characters long</small>  \n  </div>\n\n  \x3c!-- \n    set class error if formControlName us invalid\n    set class success if formControlName us valid\n\n    Validator [required] in html only\n  --\x3e\n  <div class="form-group has-feedback" \n    [ngClass]="{\n      \'has-error\' : myform.controls.password.invalid && myform.controls.password.touched ,\n      \'has-success\' : myform.controls.password.valid\n    }"\n  >\n    <label for="" class="control-label">Password</label>\n    <input \n      type="password" \n      class="form-control" \n      placeholder="Password"\n      formControlName=\'password\'\n      required  \n    >\n    <small *ngIf="myform.controls.password.invalid && myform.controls.password.touched"  class="text-danger"> Must be 8-30 characters long</small>  \n  </div>\n  \x3c!-- \n    submit is disabled if form invalid\n  --\x3e\n\n  <button type="submit" [disabled]=\'myform.invalid\'  class=" hvr-buzz-out  btn btn-primary" style="padding:10px">Signin</button>\n  <a  (click)=\'facebookSigninOrSignup()\'  class=" hvr-buzz-out  btn  btn-social  btn-facebook" style="margin-left:20px">  <span class="fa fa-facebook"></span>facebook</a>\n\n</form>\n'},YuZA:function(e,t){function n(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="YuZA"},aeEO:function(e,t){e.exports="<app-user-navbar></app-user-navbar>\n<router-outlet></router-outlet>\n"},aoli:function(e,t){e.exports='<h1 class="text-center hidden-xs">Real Time Chat</h1>\n<h3 class="text-center visible-xs ">Real Time Chat</h3>\n\n<hr>\n\n<div class="panel panel-default">\n  <div class="panel-heading" >\n      <h3 class="panel-title text-center hidden-xs"   > {{ caller?.name  || "No Call" }} </h3>\n      <h5 class="panel-title text-center visible-xs"  > {{ caller?.name || "No Call" }} </h5>\n  </div>\n  <div class="panel-body">\n\n    <div class="row">\n\n        \x3c!-- users --\x3e\n        <div class="col-md-3" id="users">\n\n            <a class="btn btn-primary center-block hvr-buzz-out user" (click)=\'newConnect()\'>\n              Refresh Users\n              <i class="fa fa-refresh" style="margin-left:5px;color:#77b300"></i>\n            </a>\n\n            <div *ngFor="let user of users">\n              <a \n                [ngClass]=\n                "{\n                  \'btn-success\' : user._id == caller?._id, \n                  \'btn-default\' : user._id != caller?._id  \n                }"\n                class="btn  center-block user hvr-buzz-out " \n                title=\'{{user.name}}\' \n                (click)=\'user._id == caller?._id ? clearCaller() : call(user);\'\n              >\n                {{user.name}}\n          \n                \x3c!-- if user online --\x3e\n                <span *ngIf="user.online" style="margin-left:5px" class="glyphicon glyphicon-send text-success"></span>\n                <span *ngIf="!user.online" style="margin-left:5px"  class="glyphicon glyphicon-send"></span>\n              </a>\n\n            </div>\n\n        </div>\n        \x3c!-- users --\x3e\n        \n        <div class="col-md-9" id=\'messages\' >\n          \x3c!-- row --\x3e\n          <div class="row">\n            \x3c!-- parent messages --\x3e\n            <div *ngIf="messages"  class="col-md-12" id=\'parent-messages\'  #scrollMe [scrollTop]="scrollMe.scrollHeight">    \n                \x3c!-- messages loop --\x3e\n                <div *ngFor="let message of messages">\n\n                  \x3c!-- me --\x3e\n                  <div *ngIf="message.user._id == _id"  class="me col-md-9 col-md-offset-3">\n                    <div class="msg">\n                        \x3c!-- row --\x3e\n                        <div class="row">\n                            <div class="col-md-2 visible-xs">\n                              <img [src]=[message.user.image]  class="img-msg img-responsive" alt="Image">\n                            </div>\n\n                            <div class="col-md-10 text-right content">\n                              {{message.content}}\n                            </div>\n\n                            <div class="col-md-2 hidden-xs">\n                              <img [src]=[message.user.image]  class="img-msg img-responsive" alt="Image">\n                            </div>\n\n                        </div>\n                        <div class="row">\n                            <div class="col-md-12 text-left date"  >\n                              {{message.created | timeAgo}}\n                            </div>\n                        </div>\n                        \x3c!-- row --\x3e\n                    </div>\n                    <div class="crop"></div>\n                  </div>\n                  \x3c!-- me  --\x3e\n\n\n                  \x3c!-- other --\x3e\n                  <div *ngIf="message.user._id != _id"  class="other col-md-9">\n                    <div class="msg">\n                        \x3c!-- row --\x3e\n                        <div class="row">\n                            <div class="col-md-2">\n                              <img [src]=[message.user.image]  class="img-msg img-responsive" alt="Image">\n                            </div>\n                            <div class="col-md-10 content">\n                              {{message.content}}\n                            </div>\n                        </div>\n                        <div class="row">\n                            <div class="col-md-12 text-right date" >\n                              {{message.created | timeAgo}}\n                            </div>\n                        </div>\n                        \x3c!-- row --\x3e\n                    </div>\n                    <div class="crop"></div>\n                  </div>\n                  \x3c!-- other --\x3e\n\n\n                </div>\n                \x3c!-- messages loop --\x3e\n            </div>\n            \x3c!-- parent messages --\x3e\n            \n            \x3c!-- sent message --\x3e\n            <div class="col-md-12" id="sent-message" [hidden]="!caller" >\n              \x3c!-- form --\x3e\n              <form method="post" (submit)=\'sent()\'>\n                <div class="input-group">\n                  <input type="text" class="form-control" placeholder="Message...." #inputContent >\n                  <div class="input-group-btn">\n                    <button class="btn btn-primary " type="submit">Sent</button>\n                  </div>\n                </div>\n              </form>\n              \x3c!-- form --\x3e\n            </div>\n            \x3c!-- sent message --\x3e\n\n          </div>\n          \x3c!-- row --\x3e\n        </div>\n    </div>\n\n  </div>\n</div>\n'},cDNt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("LMZF"),i=n("x8Hs"),a=n("UHIZ"),r=n("RyBE"),s=n("TMwh"),c=n("0nO6"),l={production:!0,url:"",facebook_clientId:"449599708775680"},u=n("MjLF"),p=(n("GQSG"),n("AP4T")),d=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(){function e(e){this._http=e,this.io=u(l.url)}return e.prototype.socketIO_login=function(e){var t=this;return this.io.emit("login",e),new p.a(function(e){t.io.on("login",function(t){e.next(t.user)})})},e.prototype.socketIO_refresh=function(){var e=this;return new p.a(function(t){e.io.on("refresh",function(e){t.next(e.users.filter(function(e){return e._id!=localStorage.getItem("_id")}).sort(function(e){return e.online?-1:1}))})})},e.prototype.SocketIo_GetMsg=function(){var e=this;return new p.a(function(t){e.io.on("msg",function(e){t.next(e)})})},e.prototype.SocketIo_SentMsg=function(e){this.io.emit("msg",e)},e.prototype.SocketIO_error=function(){var e=this;return new p.a(function(t){e.io.on("err",function(e){t.next(e)})})},e.prototype.getMessages=function(e,t){return this._http.get(l.url+"/api/messages?userId="+e+"&&callerId="+t).map(function(e){return e.json()})},e=d([Object(o.Injectable)(),f("design:paramtypes",[s.b])],e)}(),h=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(){function e(e,t,n){this._http=e,this._router=t,this._chatService=n,window.fbAsyncInit=function(){FB.init({appId:l.facebook_clientId,cookie:!0,xfbml:!0,version:"v2.11"}),FB.AppEvents.logPageView()},function(e,t,n){var o,i=e.getElementsByTagName("script")[0];e.getElementById("facebook-jssdk")||((o=e.createElement("script")).id="facebook-jssdk",o.src="https://connect.facebook.net/en_US/sdk.js",i.parentNode.insertBefore(o,i))}(document)}return e.prototype.isLogin=function(){return null!=localStorage.getItem("token")},e.prototype.ckeckAuth=function(){var e=new s.a;return e.append("Content-Type","application/json"),this._http.get(l.url+"/users/ckeckAuth?token="+localStorage.getItem("token")+"&&_id="+localStorage.getItem("_id"),{headers:e}).map(function(e){return e.json()})},e.prototype.Login=function(e,t,n){localStorage.setItem("token",e),localStorage.setItem("_id",t),this._chatService.io.connect(),n&&this._router.navigate(n)},e.prototype.Logout=function(){localStorage.clear(),this._chatService.io.disconnect(),this._router.navigate(["/user","signin"]),window.location.replace("/")},e.prototype.signupUser=function(e){var t=new s.a;return t.append("Content-Type","application/json"),this._http.post(l.url+"/users/signup",e,{headers:t}).map(function(e){return e.json()})},e.prototype.signinUser=function(e){var t=new s.a;return t.append("Content-Type","application/json"),this._http.post(l.url+"/users/signin",e,{headers:t}).map(function(e){return e.json()})},e.prototype.facebookSigninOrSignup=function(){var e=this;return new p.a(function(t){FB.login(function(n){"connected"==n.status&&FB.api("/me",function(o){var i={facebook:{id:o.id,token:n.authResponse.accessToken},email:o.id,facebookAccount:"https://www.facebook.com/app_scoped_user_id/"+o.id,name:o.name,image:"http://graph.facebook.com/"+o.id+"/picture?type=large&redirect=true&width=300&height=300"},a=new s.a;a.append("Content-Type","application/json"),e._http.post(l.url+"/users/facebookSigninOrSignup",i,{headers:a}).map(function(e){return e.json()}).subscribe(function(e){t.next(e),t.complete()})})})})},e=h([Object(o.Injectable)(),g("design:paramtypes",[s.b,a.a,m])],e)}(),b=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(){function e(e){var t=this;this._authService=e,this._authService.isLogin()&&this._authService.ckeckAuth().subscribe(function(e){e.status||(console.log(e.err),t._authService.Logout())})}return e.prototype.ngOnInit=function(){},e=b([Object(o.Component)({selector:"app-root",template:n("efyd")}),y("design:paramtypes",[v])],e)}(),_=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},k=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},w=function(){function e(){}return e.prototype.ngOnInit=function(){},e=_([Object(o.Component)({selector:"app-user",template:n("aeEO")}),k("design:paramtypes",[])],e)}(),j=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},R=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},O=function(){function e(e){this._authService=e,this.ErrorAlert=!1}return e.prototype.onSubmit=function(){var e=this;this._authService.signupUser({name:this.myform.controls.name.value,email:this.myform.controls.email.value,password:this.myform.controls.password.value}).subscribe(function(t){t.status?(e._authService.Login(t.user.token,t.user._id,["/chat"]),e.myform.reset()):(e.ErrorAlert=!0,console.log(t.err))})},e.prototype.facebookSigninOrSignup=function(){var e=this;this._authService.facebookSigninOrSignup().subscribe(function(t){e._authService.Login(t.token,t._id,["/chat"])})},e.prototype.ngOnInit=function(){this.myform=new c.b({name:new c.a("",[c.e.required,c.e.minLength(5),c.e.maxLength(30)]),email:new c.a("",[c.e.required,c.e.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]),password:new c.a("",[c.e.required,c.e.minLength(8),c.e.maxLength(30)])})},e=j([Object(o.Component)({selector:"app-signup",template:n("sx2t")}),R("design:paramtypes",[v])],e)}(),S=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},A=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},I=function(){function e(e){this._authService=e,this.ErrorAlert=!1}return e.prototype.onSubmit=function(){var e=this;this._authService.signinUser({email:this.myform.controls.email.value,password:this.myform.controls.password.value}).subscribe(function(t){t.status?(e._authService.Login(t.user.token,t.user._id,["/chat"]),e.myform.reset()):(e.ErrorAlert=!0,console.log(t.err))})},e.prototype.facebookSigninOrSignup=function(){var e=this;this._authService.facebookSigninOrSignup().subscribe(function(t){e._authService.Login(t.token,t._id,["/chat"])})},e.prototype.ngOnInit=function(){this.myform=new c.b({email:new c.a("",[c.e.required,c.e.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]),password:new c.a("",[c.e.required,c.e.minLength(8),c.e.maxLength(30)])})},e=S([Object(o.Component)({selector:"app-signin",template:n("X8cT")}),A("design:paramtypes",[v])],e)}(),E=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},C=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},P=function(){function e(e){this._authService=e}return e.prototype.ngOnInit=function(){},e=E([Object(o.Component)({selector:"app-logout",template:'\n    <button type="button" class=" hvr-buzz-out  btn btn-danger" style="padding:10px" (click)="_authService.Logout()">Logout</button>\n  '}),C("design:paramtypes",[v])],e)}(),U=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},L=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},z=function(){function e(e,t){var n=this;this._chatService=e,this._authService=t,this.users=[],this.messages=[],this._chatService.socketIO_login(localStorage.getItem("token")).subscribe(function(e){n.user=e}),this._chatService.socketIO_refresh().subscribe(function(e){n.users=e}),this._chatService.SocketIo_GetMsg().subscribe(function(e){n.caller&&n.caller._id==e.user._id&&n.messages.push(e)}),this._chatService.SocketIO_error().subscribe(function(e){console.log(e),n._authService.Logout()})}return e.prototype.sent=function(){if(this._inputContent.nativeElement.value.trim()){var e={content:this._inputContent.nativeElement.value.trim(),user:this.user,caller:this.caller,created:(new Date).toISOString()};this._chatService.io.emit("msg",e),this.messages.push(e),this._inputContent.nativeElement.value="",this._inputContent.nativeElement.focus()}},e.prototype.call=function(e){var t=this;this.messages=[],this.caller=e,this._chatService.getMessages(this._id,e._id).subscribe(function(e){t.messages=e.concat(t.messages),t._inputContent.nativeElement.focus()})},e.prototype.newConnect=function(){var e=this;this._chatService.io.connect(),this._chatService.socketIO_login(localStorage.getItem("token")).subscribe(function(t){console.log("new connect socket.io"),e.user=t})},e.prototype.clearCaller=function(){this.caller=null,this.messages=[]},e.prototype.ngOnInit=function(){this._id=localStorage.getItem("_id")},U([Object(o.ViewChild)("inputContent"),L("design:type",o.ElementRef)],e.prototype,"_inputContent",void 0),e=U([Object(o.Component)({selector:"app-chat",template:n("aoli"),styles:[n("L0bZ")]}),L("design:paramtypes",[m,v])],e)}(),N=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},M=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},D=function(){function e(e){this._authService=e}return e.prototype.isLogin=function(){return this._authService.isLogin()},e=N([Object(o.Component)({selector:"app-navbar",template:n("GvUu")}),M("design:paramtypes",[v])],e)}(),T=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},q=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},F=function(){function e(){this.blankImgPath="./assets/slider-pro-master/dist/css/images/blank.gif",$(document).ready(function(e){e("#example1").sliderPro({width:960,height:500,arrows:!0,buttons:!0,waitForLayers:!0,thumbnailWidth:200,thumbnailHeight:100,thumbnailPointer:!0,autoplay:!1,autoScaleLayers:!1,breakpoints:{500:{thumbnailWidth:120,thumbnailHeight:50}}})})}return e=T([Object(o.Component)({selector:"app-about",template:n("iddp"),styles:[n("+a7Q")]}),q("design:paramtypes",[])],e)}(),V=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},Z=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},B=function(){function e(){}return e.prototype.ngOnInit=function(){},e=V([Object(o.Component)({selector:"app-blog",template:n("Vpwn"),styles:[n("Otgb")]}),Z("design:paramtypes",[])],e)}(),G=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},Y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},H=function(){function e(e){this._http=e}return e.prototype.getUser=function(){var e=new s.a;return e.append("Content-Type","application/json"),this._http.get(l.url+"/users/find?_id="+localStorage.getItem("_id"),{headers:e}).map(function(e){return e.json()})},e.prototype.updateUser=function(e,t){var n={};n[e]=t;var o=new s.a;return o.append("Content-Type","application/json"),this._http.post(l.url+"/users/update?_id="+localStorage.getItem("_id"),n,{headers:o}).map(function(e){return e.json()})},e=G([Object(o.Injectable)(),Y("design:paramtypes",[s.b])],e)}(),Q=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},X=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},W=function(){function e(e){this._profileService=e,this.EditUser={name:!0,email:!0,phone:!0,facebookAccount:!0},this.Valid={name:!0,email:!0,phone:!0,facebookAccount:!0}}return e.prototype.updateUser=function(e,t){var n=this;this.pattern(t,e)&&this._profileService.updateUser(e,t).subscribe(function(o){o.status&&1==o.result.n?n.user[e]=t:console.log("error",o)})},e.prototype.keyup_updateUser=function(e,t,n){this.Valid[t]=!!this.pattern(n,t),13==e.which&&(this.updateUser(t,n),this.EditUser[t]=!this.EditUser[t])},e.prototype.pattern=function(e,t){return{name:/^.{5,30}$/,email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,phone:/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})/,facebookAccount:/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/}[t].test(e)?e:""},e.prototype.ngOnInit=function(){var e=this;this._profileService.getUser().subscribe(function(t){t.status&&(t.user.name=e.pattern(t.user.name,"name"),t.user.phone=e.pattern(t.user.phone,"phone"),t.user.email=e.pattern(t.user.email,"email"),t.user.facebookAccount=e.pattern(t.user.facebookAccount,"facebookAccount"),e.user=t.user)})},e=Q([Object(o.Component)({selector:"app-profile",template:n("o7uv"),styles:[n("zY6E")]}),X("design:paramtypes",[H])],e)}(),J=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},K=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ee=function(){function e(e){this._authService=e}return e.prototype.isLogin=function(){return this._authService.isLogin()},e.prototype.ngOnInit=function(){},e=J([Object(o.Component)({selector:"app-user-navbar",template:n("6tl5")}),K("design:paramtypes",[v])],e)}(),te=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},ne=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},oe=function(){function e(e,t){this._authService=e,this._router=t}return e.prototype.canActivate=function(){return!!this._authService.isLogin()||(this._router.navigate(["/user","signin"]),!1)},e=te([Object(o.Injectable)(),ne("design:paramtypes",[v,a.a])],e)}(),ie=function(){function e(e,t){this._authService=e,this._router=t}return e.prototype.canActivate=function(){return!this._authService.isLogin()||(this._router.navigate(["/user","logout"]),!1)},e=te([Object(o.Injectable)(),ne("design:paramtypes",[v,a.a])],e)}(),ae=[{path:"",redirectTo:"user",pathMatch:"full"},{path:"user",component:w,children:[{path:"",pathMatch:"full",redirectTo:"signin"},{path:"signin",component:I,canActivate:[ie]},{path:"signup",component:O,canActivate:[ie]},{path:"logout",component:P,canActivate:[oe]},{path:"profile",component:W,canActivate:[oe]}]},{path:"chat",component:z,canActivate:[oe]},{path:"blog",component:B},{path:"about",component:F}],re=n("vGUT"),se=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},ce=function(){function e(){}return e=se([Object(o.NgModule)({declarations:[x,w,z,I,O,P,re.TimeAgoPipe,D,F,B,W,ee],imports:[r.a,c.c,s.c,a.b.forRoot(ae),c.d],providers:[oe,ie,m,v,H],bootstrap:[x]})],e)}();l.production&&Object(o.enableProdMode)(),Object(i.a)().bootstrapModule(ce).catch(function(e){return console.log(e)})},efyd:function(e,t){e.exports='<app-navbar></app-navbar>\n<div class="container" style="margin-top:70px;padding-bottom:40px" >\n    <router-outlet></router-outlet>\n</div>\n\n\n\n'},iddp:function(e,t){e.exports='\n<div id="example1" class="slider-pro">\n\t<div class="sp-slides">\n\t\t<div class="sp-slide">\n\t\t\t<img class="sp-image" [src]="blankImgPath"\n\t\t\t\tdata-src="https://i.imgur.com/NsxNNcX.png"/>\n\t\t\t<p class="sp-caption">text</p>\n\t\t</div>\n\n\t\t<div class="sp-slide">\n\t\t\t<img class="sp-image" [src]="blankImgPath"\n\t\t\t\tdata-src="https://i.imgur.com/kUvfawb.png">\n\t\t\t<p class="sp-caption">text</p>\n\t\t</div>\n\n\t\t<div class="sp-slide">\n\t\t\t<img class="sp-image" [src]="blankImgPath"\n\t\t\t\tdata-src="https://i.imgur.com/2ibiZ1G.png"/>\n\t\t\t<p class="sp-caption">text</p>\n\t\t</div>\n\n\t\x3c!-- \t\t\t\n\t<div class="sp-thumbnails">\n\t\t<div class="sp-thumbnail">\n\t\t\t<div class="sp-thumbnail-title">Lorem ipsum</div>\n\t\t\t<div class="sp-thumbnail-description">Dolor sit amet, consectetur adipiscing elit sed</div>\n\t\t</div>\n\n\t\t<div class="sp-thumbnail">\n\t\t\t<div class="sp-thumbnail-title">Do eiusmod</div>\n\t\t\t<div class="sp-thumbnail-description">Tempor incididunt ut labore et dolore magna aliqua</div>\n\t\t</div>\n\n\t\t<div class="sp-thumbnail">\n\t\t\t<div class="sp-thumbnail-title">Ut enim</div>\n\t\t\t<div class="sp-thumbnail-description">Ad minim veniam, quis nostrud exercitation</div>\n\t\t</div>\n\t</div>\n\t--\x3e\n</div>\n'},o7uv:function(e,t){e.exports='\n<div class="panel panel-default"  *ngIf="user">\n  <div class="panel-heading">\n      <h3 class="panel-title text-center hidden-xs" > {{ user.name  }} </h3>\n      <h5 class="panel-title text-center visible-xs" > {{ user.name  }} </h5>\n  </div>\n  <div class="panel-body">\n      <div class="row">\n            <div class=" col-md-4">\n                <img class=\'img-thumbnail\' [src]=\'user.image\' alt="profile image" style="padding: 15px;">\n                <button type="file"  class="btn btn-primary btn-block hvr-buzz-out" target="_blank">Edit Image</button>\n             </div>\n            <div class=" col-md-8">\n                <br>\n                <ul class="list-group">\n                    \n                    <li class="list-group-item" >\n                        \x3c!-- row --\x3e\n                        <div class="row">\n                            <div class="col-md-10">\n                                <strong> \n                                    UserName : \n                                </strong>\n\n                                <span [hidden]=\'!EditUser.name\' >\n                                    {{ user.name  }}\n                                </span>\n\n                                <input \n                                    type="text" \n                                    [hidden]=\'EditUser.name\'   \n                                    class="edit-input" \n                                    #inputName \n                                    value="{{ user.name ? user.name : \'\'  }}" \n                                    (keyup)=\'keyup_updateUser($event , "name" , inputName.value.trim())\' \n                                    \n                                >\n\n                                <small [hidden]="EditUser.name || Valid.name"  class="text-danger"> Must be 5-30 characters</small> \n                            </div>\n                            <div class="col-md-2">\n                                <a \n                                    class="btn  edit-btn btn-block hvr-buzz-out btn-primary"  \n                                    (click)=\'\n                                        EditUser.name  = !EditUser.name ;\n                                        EditUser.name && inputName.value.trim() ?  updateUser( "name" , inputName.value.trim()) : "" ;\' \n                                > \n                                    {{ user.name? \'Edit\' : \'Add\'}}\n                                </a>\n                            </div>\n                        </div>\n                        \x3c!-- row --\x3e\n                    </li>\n\n\n                    <li class="list-group-item" >\n                        \x3c!-- row --\x3e\n                        <div class="row">\n                            <div class="col-md-10">\n                                <strong> \n                                    Email : \n                                </strong>\n        \n                                <span [hidden]=\'!EditUser.email\' >\n                                    {{ user.email  }}\n                                </span>\n        \n                                <input \n                                    type="email" \n                                    [hidden]=\'EditUser.email\'   \n                                    class="edit-input" \n                                    #inputEmail  \n                                    value="{{ user.email  ? user.email : \'\'    }}"\n                                    (keyup)=\'keyup_updateUser($event , "email" , inputEmail.value.trim())\' \n                                    \n                                >\n                                <small [hidden]="EditUser.email || Valid.email"  class="text-danger"> Must be Email</small> \n                            </div>\n                            <div class="col-md-2">\n                                <a \n                                    class="btn  edit-btn btn-block hvr-buzz-out btn-primary"  \n                                    (click)=\' \n                                    EditUser.email  = !EditUser.email ;\n                                    EditUser.email && inputEmail.value.trim()  ?  updateUser( "email" , inputEmail.value.trim()) : "" ;\' \n                                > \n                                    {{ user.email? \'Edit\' : \'Add\'}}\n                                </a>\n                            </div>                            \n                        </div>\n                        \x3c!-- row --\x3e\n                    </li>\n\n                    \n                    <li class="list-group-item" >\n                        \x3c!-- row --\x3e\n                        <div class="row">\n                            <div class="col-md-10">\n                                <strong> \n                                    Phone : \n                                </strong>\n        \n                                <span [hidden]=\'!EditUser.phone\' >\n                                    {{ user.phone  }}\n                                </span>\n        \n                                <input \n                                    type="text" \n                                    [hidden]=\'EditUser.phone\'   \n                                    class="edit-input" \n                                    #inputPhone  \n                                    value="{{ user.phone ? user.phone : \'\'   }}" \n                                    (keyup)=\'keyup_updateUser($event , "phone" , inputPhone.value.trim() )\' \n                                    \n                                >\n                                <small [hidden]="EditUser.phone || Valid.phone"  class="text-danger"> Must be Phone</small> \n                                \n                                \n                            </div>\n                            <div class="col-md-2">\n                                <a \n                                    class="btn  edit-btn btn-block hvr-buzz-out btn-primary"  \n                                    (click)=\' \n                                        EditUser.phone  = !EditUser.phone ;\n                                        EditUser.phone && inputPhone.value.trim() ?  updateUser( "phone" , inputPhone.value.trim() ) : "" \' \n                                > \n                                    {{ user.phone? \'Edit\' : \'Add\'}}\n                                </a>\n                            </div>                            \n                        </div>\n                        \x3c!-- row --\x3e\n                    </li>\n\n\n\n                    <li class="list-group-item" >\n\n                        \x3c!-- row --\x3e\n                        <div class="row">\n                            <div class="col-md-10">\n                                <strong> \n                                    Facebook : \n                                </strong>\n        \n                                <span [hidden]=\'!EditUser.facebookAccount\' >\n                                    <a href="{{ user.facebookAccount  }}" target="blank" [hidden]=\'!user.facebookAccount\'>\n                                            Click here\n                                    </a> \n                                </span>\n        \n                                <input \n                                    type="text" \n                                    [hidden]=\'EditUser.facebookAccount\'   \n                                    class="edit-input" \n                                    #inputFacebookAccount  \n                                    value="{{ user.facebookAccount ? user.facebookAccount : \'\'  }}" \n                                    (keyup)=\'keyup_updateUser($event , "facebookAccount" , inputFacebookAccount.value.trim())\' \n                                \n                                >\n                                <small [hidden]="EditUser.facebookAccount || Valid.facebookAccount"  class="text-danger"> Must be url</small> \n                            </div>\n                            <div class="col-md-2">\n                                <a \n                                    class="btn  edit-btn btn-block hvr-buzz-out btn-primary"  \n                                    (click)=\'\n                                        EditUser.facebookAccount  = !EditUser.facebookAccount ;\n                                        EditUser.facebookAccount && inputFacebookAccount.value.trim() ?  updateUser( "facebookAccount" , inputFacebookAccount.value.trim() ) : "" \' \n                                >\n                                    {{ user.facebookAccount? \'Edit\' : \'Add\'}}\n                                </a>\n                            </div>                            \n                        </div>\n                        \x3c!-- row --\x3e\n                    </li>\n\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n'},sx2t:function(e,t){e.exports='\n\x3c!-- show error in signup --\x3e\n<div *ngIf="ErrorAlert"  class="alert alert-danger">\n  <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>\n  <strong>Error</strong> Pleace Ckeck Your Date ... \n</div>\n\n<form  role="form" [formGroup]=\'myform\' (submit)=\'onSubmit()\'>\n  \x3c!-- \n    set class error if formControlName us invalid\n    set class success if formControlName us valid\n\n    Validator [required] in html only\n  --\x3e\n  <div \n    class="form-group has-feedback" \n    [ngClass]=\'{\n      "has-error" : myform.controls.name.invalid && myform.controls.name.touched ,\n      "has-success" : myform.controls.name.valid\n      }\'\n  >\n    <label for="" class="control-label">Name</label>\n    <input \n      type="text" \n      class="form-control" \n      placeholder="name"\n      formControlName=\'name\'\n      required   \n    >\n    \x3c!-- danger message --\x3e\n    <small *ngIf="myform.controls.name.invalid && myform.controls.name.touched"  class="text-danger"> Must be 5-30 characters long</small>  \n  </div>\n\n\n\n\n  \x3c!-- \n    set class error if formControlName us invalid\n    set class success if formControlName us valid\n\n    Validator [required , email] in html only\n  --\x3e\n  <div \n    class="form-group has-feedback" \n    [ngClass]=\'{\n      "has-error" : myform.controls.email.invalid && myform.controls.email.touched ,\n      "has-success" : myform.controls.email.valid\n      }\'\n  >    \n    <label for="" class="control-label">Email</label>\n    <input \n      type="email" \n      class="form-control" \n      placeholder="Email"\n      formControlName=\'email\'\n      required   \n      email\n    >\n    \x3c!-- danger message --\x3e\n    <small *ngIf="myform.controls.email.invalid && myform.controls.email.touched"  class="text-danger"> Must be Email</small> \n  </div>\n\n  \x3c!-- \n    set class error if formControlName us invalid\n    set class success if formControlName us valid\n\n    Validator [required] in html only\n  --\x3e\n  <div \n    class="form-group has-feedback" \n    [ngClass]=\'{\n      "has-error" : myform.controls.password.invalid && myform.controls.password.touched ,\n      "has-success" : myform.controls.password.valid\n      }\'\n  >\n    \n    <label for="" class="control-label">Password</label>\n    <input \n      type="password" \n      class="form-control" \n      placeholder="Password"\n      formControlName=\'password\'\n      required\n    >\n    \x3c!-- danger message --\x3e\n    <small *ngIf="myform.controls.password.invalid && myform.controls.password.touched"  class="text-danger"> Must be 8-30 characters long</small> \n  </div>\n\n  <button type="submit" [disabled]=\'myform.invalid\'   class=" hvr-buzz-out  btn btn-primary" style="padding:10px">Signup</button>\n  <a  (click)=\'facebookSigninOrSignup()\'  class=" hvr-buzz-out  btn  btn-social  btn-facebook" style="margin-left:20px">  <span class="fa fa-facebook"></span>facebook</a>\n\n</form>\n'},zY6E:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,".panel-body .list-group-item{margin-bottom:10px}.panel-body .edit-btn{padding:0 15px}.panel-body .edit-input{margin-left:10px;padding:0 0;padding-left:3px;margin:0;width:60%}.panel-body strong{margin-right:10px}@media (max-width:600px){.panel-body .edit-btn{margin-top:7px}}",""]),e.exports=e.exports.toString()}},[0]);